{
  "id": "b8bd550d",
  "type": "code",
  "title": "Function: login",
  "content": "from flask import Flask, request, jsonify\nfrom flask_sqlalchemy import SQLAlchemy\nfrom werkzeug.security import generate_password_hash, check_password_hash\nfrom flask_jwt_extended import create_access_token, jwt_required, JWTManager\n\napp = Flask(__name__)\napp.config['SQLALCHEMY_DATABASE_URI'] = 'mysql://user:password@localhost/database'\napp.config[\"JWT_SECRET_KEY\"] = \"super-secret\"  # Change this!\njwt = JWTManager(app)\ndb = SQLAlchemy(app)\n\nclass User(db.Model):\n    id = db.Column(db.Integer, primary_key=True)\n    username = db.Column(db.String(255), unique=True, nullable=False)\n    email = db.Column(db.String(255), unique=True, nullable=False)\n    password = db.Column(db.String(255), nullable=False)\n    created_at = db.Column(db.TIMESTAMP, server_default=db.func.now())\n    updated_at = db.Column(db.TIMESTAMP, server_default=db.func.now(), onupdate=db.func.now())\n    is_active = db.Column(db.Boolean, default=True)\n\n@app.route('/login', methods=['POST'])\ndef login():\n    username = request.form['username']\n    password = request.form['password']\n\n    user = User.query.filter_by(username=username).first()\n\n    if user and check_password_hash(user.password, password):\n        access_token = create_access_token(identity=username)\n        return jsonify(access_token=access_token)\n    else:\n        return jsonify({'message': 'Kullanıcı adı veya şifre hatalı!'})",
  "language": "python",
  "conversation_id": 519,
  "created_at": "2025-10-31T09:44:01.966123",
  "updated_at": "2025-10-31T09:44:01.966123",
  "version": 1,
  "versions": [
    {
      "version": 1,
      "content": "from flask import Flask, request, jsonify\nfrom flask_sqlalchemy import SQLAlchemy\nfrom werkzeug.security import generate_password_hash, check_password_hash\nfrom flask_jwt_extended import create_access_token, jwt_required, JWTManager\n\napp = Flask(__name__)\napp.config['SQLALCHEMY_DATABASE_URI'] = 'mysql://user:password@localhost/database'\napp.config[\"JWT_SECRET_KEY\"] = \"super-secret\"  # Change this!\njwt = JWTManager(app)\ndb = SQLAlchemy(app)\n\nclass User(db.Model):\n    id = db.Column(db.Integer, primary_key=True)\n    username = db.Column(db.String(255), unique=True, nullable=False)\n    email = db.Column(db.String(255), unique=True, nullable=False)\n    password = db.Column(db.String(255), nullable=False)\n    created_at = db.Column(db.TIMESTAMP, server_default=db.func.now())\n    updated_at = db.Column(db.TIMESTAMP, server_default=db.func.now(), onupdate=db.func.now())\n    is_active = db.Column(db.Boolean, default=True)\n\n@app.route('/login', methods=['POST'])\ndef login():\n    username = request.form['username']\n    password = request.form['password']\n\n    user = User.query.filter_by(username=username).first()\n\n    if user and check_password_hash(user.password, password):\n        access_token = create_access_token(identity=username)\n        return jsonify(access_token=access_token)\n    else:\n        return jsonify({'message': 'Kullanıcı adı veya şifre hatalı!'})",
      "timestamp": "2025-10-31T09:44:01.966123"
    }
  ]
}